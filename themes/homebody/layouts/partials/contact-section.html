{{- /* Default values from site config */ -}}
{{- $ctaTitle := .Site.Params.cta.headline -}}
{{- $ctaCopy := .Site.Params.cta.content -}}
{{- $ctaButton := .Site.Params.cta.button_text -}}
{{- $modalTitle := "Let's Connect" -}}
{{- $modalCopy := "However you've found your way here, welcome.\n\nIf you're curious about working together or just want to share where you are in your practice, reach out. I'd love to connect!\n\nThis space moves at a human pace. I read and respond to each message with care, usually within a few days. You can use the form below or email me directly at [melissa@homebodymeditation.com](mailto:melissa@homebodymeditation.com)." -}}

{{- /* Override with page frontmatter if provided */ -}}
{{- if .Params.contact_form_cta_title -}}
    {{- $ctaTitle = .Params.contact_form_cta_title -}}
{{- end -}}
{{- if .Params.contact_form_cta_copy -}}
    {{- $ctaCopy = .Params.contact_form_cta_copy -}}
{{- end -}}
{{- if .Params.contact_form_modal_title -}}
    {{- $modalTitle = .Params.contact_form_modal_title -}}
{{- end -}}
{{- if .Params.contact_form_modal_copy -}}
    {{- $modalCopy = .Params.contact_form_modal_copy -}}
{{- end -}}

<!-- CTA Section - Let's Connect -->
<section class="cta-section">
    <div class="container">
        <h2>{{ $ctaTitle }}</h2>
        <p>{{ $ctaCopy }}</p>
        <button type="button" class="btn contact-modal-trigger">{{ $ctaButton }}</button>
    </div>
</section>

<!-- Contact Modal - Full viewport overlay -->
<div class="contact-modal" id="contact-modal">
    <div class="contact-modal-content">
        <button type="button" class="contact-modal-close" aria-label="Close contact form">
            <span></span>
            <span></span>
        </button>
        
        <div class="contact-modal-inner">
            <h2>{{ $modalTitle }}</h2>
            
            <div class="contact-intro">
                {{ $modalCopy | markdownify }}
            </div>

            <div class="contact-container">
                <form id="contact-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" placeholder="Jane Doe" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="jane.doe@gmail.com" required>
                    </div>

                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" placeholder="I've been wanting to start a meditation practice for years..." required></textarea>
                    </div>

                    <!-- Honeypot field - hidden from users -->
                    <div class="honey-pot-field" aria-hidden="true">
                        <label for="fax_number">Fax Number (Do not fill)</label>
                        <input type="text" id="fax_number" name="fax_number" autocomplete="off" tabindex="-1">
                    </div>

                    <button type="submit" id="submit-btn" class="btn">Send Message</button>
                </form>

                <div id="form-status"></div>
            </div>
        </div>
    </div>
</div>

<script src="/js/contact.js" defer></script>
